<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Massage Therapy Smart Study Pro</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icon-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icon-512x512.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link href="styles.css" rel="stylesheet"/>
  <script defer src="app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="app-container">
    <header class="title-bar-box">
      <div class="title-bar">
        <img alt="App Icon" class="app-icon" src="icon-512x512.png"/>
        <div class="title-text">
          <h1>Massage Therapy</h1>
          <h2>Smart Study Pro</h2>
        </div>
      </div>
      <div class="header-controls">
        <select class="control" data-topic>
        </select>
        <select class="control" data-quiz-length>
          <option value="5">5 Questions</option>
          <option value="10">10 Questions</option>
          <option value="20">20 Questions</option>
          <option value="all">All Questions</option>
        </select>
        <button class="start-btn">Start Quiz</button>
      </div>
      <div class="header-actions" style="display: flex; gap: 24px; align-items: center; justify-content: space-evenly;">
        <div class="smart-learning">
          <a href="#" class="settings-link" style="text-decoration: none; color: white; display: flex; align-items: center;">
            <svg fill="white" height="16" viewBox="0 0 24 24" width="16" style="vertical-align: middle; margin-right: 8px;">
              <path d="M20.3 5.7a1 1 0 00-1.4-1.4L9 14.17l-3.9-3.9a1 1 0 10-1.4 1.42l4.6 4.6a1 1 0 001.4 0l11-11z"></path>
            </svg>
            Smart Learning
          </a>
        </div>
        <div class="view-analytics">
          <a href="#" class="analytics-link" style="text-decoration: none; color: white; display: flex; align-items: center;">
            <svg fill="white" height="16" viewBox="0 0 24 24" width="16" style="vertical-align: middle; margin-right: 4px;">
              <path d="M3 17h2v-7H3v7zm4 0h2v-4H7v4zm4 0h2V7h-2v10zm4 0h2v-2h-2v2zm4 0h2v-10h-2v10z"></path>
            </svg> View Analytics
          </a>
        </div>
        <div class="settings">
          <a href="#" class="settings-link" style="text-decoration: none; color: white; display: flex; align-items: center;">
            <svg fill="white" height="16" viewBox="0 0 24 24" width="16" style="vertical-align: middle; margin-right: 4px;"></svg>
            <svg fill="white" height="16" viewBox="0 0 24 24" width="16" style="vertical-align: middle; margin-right: 4px;">
              <path d="M12 1a2 2 0 0 1 2 2v1.1a7.96 7.96 0 0 1 2.83 1.17l.78-.78a2 2 0 1 1 2.83 2.83l-.78.78A7.96 7.96 0 0 1 20.9 10H22a2 2 0 1 1 0 4h-1.1a7.96 7.96 0 0 1-1.17 2.83l.78.78a2 2 0 1 1-2.83 2.83l-.78-.78A7.96 7.96 0 0 1 14 20.9V22a2 2 0 1 1-4 0v-1.1a7.96 7.96 0 0 1-2.83-1.17l-.78.78a2 2 0 1 1-2.83-2.83l.78-.78A7.96 7.96 0 0 1 3.1 14H2a2 2 0 1 1 0-4h1.1a7.96 7.96 0 0 1 1.17-2.83l-.78-.78a2 2 0 1 1 2.83-2.83l.78.78A7.96 7.96 0 0 1 10 3.1V2a2 2 0 0 1 2-2zm0 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10z"></path>
            </svg>
            Settings
          </a>
        </div>
      </div>
    </header>
    <div class="quiz-card visible">
      <div class="quiz-header">
        <div style="display: flex; justify-content: space-between; align-items: center; gap: 140px;">
          <div style="display: flex; align-items: center; gap: 8px;">
            <svg fill="white" height="16" viewBox="0 0 24 24" width="16">
              <path d="M20.3 5.7a1 1 0 00-1.4-1.4L9 14.17l-3.9-3.9a1 1 0 10-1.4 1.42l4.6 4.6a1 1 0 001.4 0l11-11z"></path>
            </svg>
            <span>TOPIC: <strong></strong></span>
          </div>
          <div style="display: flex; align-items: center; gap: 8px;">
            <svg fill="white" height="16" viewBox="0 0 24 24" width="16">
              <path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path>
            </svg>
            <span>Streak: <span id="quizStreak">0</span></span>
          </div>
        </div></svg>
      </div>
      <div class="question-block">
        <div class="question-icon">
          <svg fill="white" height="24" viewBox="0 0 24 24" width="24"><path d="M20.3 5.7a1 1 0 00-1.4-1.4L9 14.17l-3.9-3.9a1 1 0 10-1.4 1.42l4.6 4.6a1 1 0 001.4 0l11-11z"></path></svg>
        </div>
        <div class="question-text" id="question">Question goes here</div>
      </div>
      <div class="answers" id="answers"></div>
      <div class="feedback" id="feedback"></div>
      <div class="progress-section">
        <span>Progress</span>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 0%;"></div>
        </div>
        <span>0%</span>
      </div>
  <script>
    fetch('smart_questions_cleaned.json')
      .then(response => response.json())
      .then(data => {
        const questionData = data[0]; // Example: Fetch the first question
        document.getElementById('question').textContent = questionData.question;

        // Populate answers
        const answersContainer = document.getElementById('answers');
        questionData.answers.forEach((answer, index) => {
          const answerDiv = document.createElement('div');
          answerDiv.className = 'answer';
          answerDiv.textContent = `${String.fromCharCode(65 + index)}. ${answer}`;
          answersContainer.appendChild(answerDiv);
        });

        // Populate feedback
        const feedbackContainer = document.getElementById('feedback');
        feedbackContainer.innerHTML = `
          <svg fill="white" height="16" viewbox="0 0 24 24" width="16">
            <path d="M20.3 5.7a1 1 0 00-1.4-1.4L9 14.17l-3.9-3.9a1 1 0 10-1.4 1.42l4.6 4.6a1 1 0 001.4 0l11-11z"></path>
          </svg>
          Correct Answer: ${questionData.answers[questionData.correct]}
        `;
      })
      .catch(error => console.error('Error loading questions:', error));

    toggleModal(
      'Smart Learning',
      `
        <p>Smart Learning helps you focus on missed or unanswered questions to improve your knowledge.</p>
        <div class="badge-grid">
          ${badges.map(badge => `
            <div class="badge-item ${earnedBadges.includes(badge.id) ? '' : 'unearned'}">
              <img src="badges/${badge.id}.png" alt="${badge.name}" />
              <p>${badge.name}</p>
            </div>
          `).join('')}
        </div>
      `
    );
  </script>
</body>
</html>